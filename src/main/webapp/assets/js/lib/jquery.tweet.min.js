(function(e,d,a,g){var b="",f={id:null,screen_name:"",include_rts:true,max_id:0,since_id:0,count:1,show:0,list:false,avatar:false,https:false};function c(i,h){this.element=e(i);if(typeof h==="string"){if(h.indexOf("id:")===-1){h={screen_name:h}}else{h={id:h.replace("id:","")}}}if(!h.include_rts&&h.count===1){h.count=5;h.show=1}h.callback="tweets."+b+".twitterCallback";if(h.https){this.protocol="https:"}else{this.protocol=a.location.protocol.substr(0,4)==="http"?a.location.protocol:"http:"}this.options=e.extend({},f,h);e.getScript(this.url())}c.prototype={isArray:function(h){return h instanceof Array},status:function(j){var i=this,h=j.text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\>]*[^.,;'">\:\s\>\)\]\!])/g,function(k){return'<a href="'+k+'">'+k+"</a>"}).replace(/\B@([_a-z0-9]+)/ig,function(k){return'<a href="'+i.protocol+"//twitter.com/"+k.substring(1)+'">'+k+"</a>"}).replace(/\B#([_a-z0-9\.]+)/ig,function(k){return'<a href="'+i.protocol+"//twitter.com/search?q=%23"+k.substring(1)+'">'+k+"</a>"});h="<span>"+h+'</span> <a href="'+this.protocol+"//twitter.com/"+this.options.screen_name+"/statuses/"+j.id_str+'">'+this.relative_time(j.created_at)+"</a>";if(this.options.avatar){h='<img src="'+j.user[this.protocol==="https:"?"profile_image_url_https":"profile_image_url"]+'" title="'+j.user.name+'" />'+h}return h},relative_time:function(j){var i=j.split(" "),h=Date.parse(i[1]+" "+i[2]+", "+i[5]+" "+i[3]),k=(parseInt((new Date().getTime()-h)/1000,10)*2)+(new Date().getTimezoneOffset()*60);if(k<60){return"less than a minute ago"}else{if(k<120){return"about a minute ago"}else{if(k<(60*60)){return(parseInt(k/60,10)).toString()+" minutes ago"}else{if(k<(120*60)){return"about an hour ago"}else{if(k<(24*60*60)){return"about "+(parseInt(k/3600,10)).toString()+" hours ago"}else{if(k<(48*60*60)){return"1 day ago"}else{return(parseInt(k/86400,10)).toString()+" days ago"}}}}}}},url:function(){var i=e.extend({},this.options),h=["list","avatar","https","show","id"];if(this.options.id!==null){return this.protocol+"//api.twitter.com/1/statuses/show/"+this.options.id+".json?"+e.param({callback:this.options.callback})}else{e.each(h,function(j,k){delete i[k]});if(i.since_id===0){delete i.since_id}if(i.max_id===0){delete i.max_id}return this.protocol+"//api.twitter.com/1/statuses/user_timeline.json?"+e.param(i)}},twitterCallback:function(k){var h=this.options.show!==0?this.options.show:this.isArray(k)?k.length:1;if(this.isArray(k)){this.tweets=k}else{this.tweets=[k]}if(this.options.id!==null){this.options.screen_name=this.tweets[0].user.screen_name}this.element.empty();for(var j=0;j<h;j++){if(this.options.list){this.element.append(e("<li />",{"data-tweet":this.tweets[j].id_str}).append(this.status(this.tweets[j])))}else{this.element.append(e("<span />",{"data-tweet":this.tweets[j].id_str}).append(this.status(this.tweets[j])))}}},get:function(i){var j=[],h=d.tweets;e.each(h,function(k){if(h[k].options.screen_name.toLowerCase()===i.toLowerCase()){e.each(h[k].tweets,function(l,m){j.push(m)})}});return j.length===1?j[0]:j}};e.fn.tweet=function(h){return this.each(function(){b="t"+(+new Date()).toString();d.tweets[b]=new c(this,h)})};d.tweets={};e.tweet={get:c.prototype.get}}(jQuery,window,document));