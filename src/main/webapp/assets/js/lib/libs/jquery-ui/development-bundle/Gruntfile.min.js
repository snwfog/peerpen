module.exports=function(d){var h=["jquery.ui.core.js","jquery.ui.widget.js","jquery.ui.mouse.js","jquery.ui.draggable.js","jquery.ui.droppable.js","jquery.ui.resizable.js","jquery.ui.selectable.js","jquery.ui.sortable.js","jquery.ui.effect.js"],e=h.map(function(m){return"ui/"+m}).concat(a("ui/*.js").filter(function(m){return h.indexOf(m.substring(3))===-1})),j=a("ui/i18n/*.js"),k=["core","accordion","autocomplete","button","datepicker","dialog","menu","progressbar","resizable","selectable","slider","spinner","tabs","tooltip","theme"].map(function(m){return"themes/base/jquery.ui."+m+".css"}),i={options:{preserveComments:false},main:{options:{banner:b(e)},files:{"dist/jquery-ui.min.js":"dist/jquery-ui.js"}},i18n:{options:{banner:b(j)},files:{"dist/i18n/jquery-ui-i18n.min.js":"dist/i18n/jquery-ui-i18n.js"}}},l={options:{keepSpecialComments:0},main:{options:{keepSpecialComments:"*"},src:"dist/jquery-ui.css",dest:"dist/jquery-ui.min.css"}},c={all:["dist/jquery-ui.js","dist/jquery-ui.min.js"]};function g(m){return"dist/"+m.replace(/\.js$/,".min.js").replace(/ui\//,"minified/")}function a(m){return d.util._.pluck(d.file.expandMapping(m),"src").map(function(n){return n[0]})}e.concat(j).forEach(function(m){i[m]={options:{banner:b()},files:{}};i[m].files[g(m)]=m});k.forEach(function(m){l[m]={options:{banner:b()},src:m,dest:"dist/"+m.replace(/\.css$/,".min.css").replace(/themes\/base\//,"themes/base/minified/")}});e.forEach(function(m){c[m]=[m,g(m)]});d.loadNpmTasks("grunt-contrib-jshint");d.loadNpmTasks("grunt-contrib-uglify");d.loadNpmTasks("grunt-contrib-concat");d.loadNpmTasks("grunt-contrib-qunit");d.loadNpmTasks("grunt-contrib-csslint");d.loadNpmTasks("grunt-contrib-cssmin");d.loadNpmTasks("grunt-html");d.loadNpmTasks("grunt-compare-size");d.loadNpmTasks("grunt-git-authors");d.loadTasks("build/tasks");function f(m){return m.replace(/.+\/(.+?)>?$/,"$1")}function b(n){var m=n&&n.map(f);return"/*! <%= pkg.title || pkg.name %> - v<%= pkg.version %> - <%= grunt.template.today('isoDate') %>\n<%= pkg.homepage ? '* ' + pkg.homepage + '\\n' : '' %>"+(n?"* Includes: "+m.join(", ")+"\n":"")+"* Copyright <%= grunt.template.today('yyyy') %> <%= pkg.author.name %>; Licensed <%= _.pluck(pkg.licenses, 'type').join(', ') %> */\n"}d.initConfig({pkg:d.file.readJSON("package.json"),files:{dist:"<%= pkg.name %>-<%= pkg.version %>",cdn:"<%= pkg.name %>-<%= pkg.version %>-cdn",themes:"<%= pkg.name %>-themes-<%= pkg.version %>"},compare_size:c,concat:{ui:{options:{banner:b(e),stripBanners:{block:true}},src:e,dest:"dist/jquery-ui.js"},i18n:{options:{banner:b(j)},src:j,dest:"dist/i18n/jquery-ui-i18n.js"},css:{options:{banner:b(k),stripBanners:{block:true}},src:k,dest:"dist/jquery-ui.css"}},uglify:i,cssmin:l,htmllint:{all:d.file.expand(["demos/**/*.html","tests/**/*.html"]).filter(function(m){return !/(?:ajax\/content\d\.html|tabs\/data\/test\.html|tests\/unit\/core\/core\.html)/.test(m)})},copy:{dist:{src:["AUTHORS.txt","jquery-*.js","MIT-LICENSE.txt","README.md","Gruntfile.js","package.json","*.jquery.json","ui/**/*","ui/.jshintrc","demos/**/*","themes/**/*","external/**/*","tests/**/*"],renames:{"dist/jquery-ui.js":"ui/jquery-ui.js","dist/jquery-ui.min.js":"ui/minified/jquery-ui.min.js","dist/i18n/jquery-ui-i18n.js":"ui/i18n/jquery-ui-i18n.js","dist/i18n/jquery-ui-i18n.min.js":"ui/minified/i18n/jquery-ui-i18n.min.js","dist/jquery-ui.css":"themes/base/jquery-ui.css","dist/jquery-ui.min.css":"themes/base/minified/jquery-ui.min.css"},dest:"dist/<%= files.dist %>"},dist_min:{src:"dist/minified/**/*",strip:/^dist/,dest:"dist/<%= files.dist %>/ui"},dist_css_min:{src:"dist/themes/base/minified/*.css",strip:/^dist/,dest:"dist/<%= files.dist %>"},dist_units_images:{src:"themes/base/images/*",strip:/^themes\/base\//,dest:"dist/"},dist_min_images:{src:"themes/base/images/*",strip:/^themes\/base\//,dest:"dist/<%= files.dist %>/themes/base/minified"},cdn:{src:["AUTHORS.txt","MIT-LICENSE.txt","ui/*.js","package.json"],renames:{"dist/jquery-ui.js":"jquery-ui.js","dist/jquery-ui.min.js":"jquery-ui.min.js","dist/i18n/jquery-ui-i18n.js":"i18n/jquery-ui-i18n.js","dist/i18n/jquery-ui-i18n.min.js":"i18n/jquery-ui-i18n.min.js"},dest:"dist/<%= files.cdn %>"},cdn_i18n:{src:"ui/i18n/jquery.ui.datepicker-*.js",strip:"ui/",dest:"dist/<%= files.cdn %>"},cdn_i18n_min:{src:"dist/minified/i18n/jquery.ui.datepicker-*.js",strip:"dist/minified",dest:"dist/<%= files.cdn %>"},cdn_min:{src:"dist/minified/*.js",strip:/^dist\/minified/,dest:"dist/<%= files.cdn %>/ui"},cdn_themes:{src:"dist/<%= files.themes %>/themes/**/*",strip:"dist/<%= files.themes %>",dest:"dist/<%= files.cdn %>"},themes:{src:["AUTHORS.txt","MIT-LICENSE.txt","package.json"],dest:"dist/<%= files.themes %>"}},zip:{dist:{src:"<%= files.dist %>",dest:"<%= files.dist %>.zip"},cdn:{src:"<%= files.cdn %>",dest:"<%= files.cdn %>.zip"},themes:{src:"<%= files.themes %>",dest:"<%= files.themes %>.zip"}},md5:{dist:{src:"dist/<%= files.dist %>",dest:"dist/<%= files.dist %>/MANIFEST"},cdn:{src:"dist/<%= files.cdn %>",dest:"dist/<%= files.cdn %>/MANIFEST"},themes:{src:"dist/<%= files.themes %>",dest:"dist/<%= files.themes %>/MANIFEST"}},qunit:{files:a("tests/unit/**/*.html").filter(function(m){return !(/(all|index|test|dialog|dialog_deprecated|tabs|tooltip)\.html$/).test(m)})},jshint:{ui:{options:{jshintrc:"ui/.jshintrc"},files:{src:"ui/*.js"}},grunt:{options:{jshintrc:".jshintrc"},files:{src:["Gruntfile.js","build/**/*.js"]}},tests:{options:{jshintrc:"tests/.jshintrc"},files:{src:"tests/unit/**/*.js"}}},csslint:{base_theme:{src:"themes/base/*.css",options:{"adjoining-classes":false,"box-model":false,"compatible-vendor-prefixes":false,"duplicate-background-images":false,"import":false,important:false,"outline-none":false,"overqualified-elements":false,"text-indent":false}}}});d.registerTask("default",["lint","test"]);d.registerTask("lint",["jshint","csslint","htmllint"]);d.registerTask("test",["qunit"]);d.registerTask("sizer",["concat:ui","uglify:main","compare_size:all"]);d.registerTask("sizer_all",["concat:ui","uglify","compare_size"]);d.registerTask("build",["concat","uglify","cssmin","copy:dist_units_images"]);d.registerTask("release","clean build copy:dist copy:dist_min copy:dist_min_images copy:dist_css_min md5:dist zip:dist".split(" "));d.registerTask("release_themes","release generate_themes copy:themes md5:themes zip:themes".split(" "));d.registerTask("release_cdn","release_themes copy:cdn copy:cdn_min copy:cdn_i18n copy:cdn_i18n_min copy:cdn_themes md5:cdn zip:cdn".split(" "))};