/*! jQuery UI - v1.10.3 - 2013-09-20
* http://jqueryui.com
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(){return ++b}function f(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(h,""))===decodeURIComponent(location.href.replace(h,""))}var b=0,h=/#.*$/;g.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){g(this).is(".ui-state-disabled")&&i.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){g(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),a.active=this._initialActive(),g.isArray(a.disabled)&&(a.disabled=g.unique(a.disabled.concat(g.map(this.tabs.filter(".ui-state-disabled"),function(i){return e.tabs.index(i)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):g(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var j=this.options.active,k=this.options.collapsible,e=location.hash.substring(1);return null===j&&(e&&this.tabs.each(function(a,i){return g(i).attr("aria-controls")===e?(j=a,!1):d}),null===j&&(j=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===j||-1===j)&&(j=this.tabs.length?0:!1)),j!==!1&&(j=this.tabs.index(this.tabs.eq(j)),-1===j&&(j=k?!1:0)),!k&&j===!1&&this.anchors.length&&(j=0),j},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):g()}},_tabKeydown:function(j){var k=g(this.document[0].activeElement).closest("li"),e=this.tabs.index(k),l=!0;if(!this._handlePageNav(j)){switch(j.keyCode){case g.ui.keyCode.RIGHT:case g.ui.keyCode.DOWN:e++;break;case g.ui.keyCode.UP:case g.ui.keyCode.LEFT:l=!1,e--;break;case g.ui.keyCode.END:e=this.anchors.length-1;break;case g.ui.keyCode.HOME:e=0;break;case g.ui.keyCode.SPACE:return j.preventDefault(),clearTimeout(this.activating),this._activate(e),d;case g.ui.keyCode.ENTER:return j.preventDefault(),clearTimeout(this.activating),this._activate(e===this.options.active?!1:e),d;default:return}j.preventDefault(),clearTimeout(this.activating),e=this._focusNextTab(e,l),j.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(e).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",e)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===g.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===g.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===g.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):d},_findNextTab:function(k,j){function l(){return k>e&&(k=0),0>k&&(k=e),k}for(var e=this.tabs.length-1;-1!==g.inArray(l(),this.options.disabled);){k=j?k+1:k-1}return k},_focusNextTab:function(i,a){return i=this._findNextTab(i,a),this.tabs.eq(i).focus(),i},_setOption:function(j,a){return"active"===j?(this._activate(a),d):"disabled"===j?(this._setupDisabled(a),d):(this._super(j,a),"collapsible"===j&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===j&&this._setupEvents(a),"heightStyle"===j&&this._setupHeightStyle(a),d)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,a=this.tablist.children(":has(a[href])");e.disabled=g.map(a.filter(".ui-state-disabled"),function(i){return a.index(i)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!g.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=g()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=g()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return g("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=g(),this.anchors.each(function(m,j){var t,q,s,p=g(j).uniqueId().attr("id"),e=g(j).closest("li"),k=e.attr("aria-controls");f(j)?(t=j.hash,q=a.element.find(a._sanitizeSelector(t))):(s=a._tabId(e),t="#"+s,q=a.element.find(t),q.length||(q=a._createPanel(s),q.insertAfter(a.panels[m-1]||a.tablist)),q.attr("aria-live","polite")),q.length&&(a.panels=a.panels.add(q)),k&&e.data("ui-tabs-aria-controls",k),e.attr({"aria-controls":t.substring(1),"aria-labelledby":p}),q.attr("aria-labelledby",p)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return g("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){g.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var a,j=0;a=this.tabs[j];j++){e===!0||-1!==g.inArray(j,e)?g(a).addClass("ui-state-disabled").attr("aria-disabled","true"):g(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=e},_setupEvents:function(e){var a={click:function(i){i.preventDefault()}};e&&g.each(e.split(" "),function(j,i){a[i]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var a,j=this.element.parent();"fill"===e?(a=j.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var i=g(this),k=i.css("position");"absolute"!==k&&"fixed"!==k&&(a-=i.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=g(this).outerHeight(!0)}),this.panels.each(function(){g(this).height(Math.max(0,a-g(this).innerHeight()+g(this).height()))}).css("overflow","auto")):"auto"===e&&(a=0,this.panels.each(function(){a=Math.max(a,g(this).height("").height())}).height(a))},_eventHandler:function(x){var p=this.options,y=this.active,v=g(x.currentTarget),k=v.closest("li"),e=k[0]===y[0],j=e&&p.collapsible,q=j?g():this._getPanelForTab(k),m=y.length?this._getPanelForTab(y):g(),w={oldTab:y,oldPanel:m,newTab:j?g():k,newPanel:q};x.preventDefault(),k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||e&&!p.collapsible||this._trigger("beforeActivate",x,w)===!1||(p.active=j?!1:this.tabs.index(k),this.active=e?g():k,this.xhr&&this.xhr.abort(),m.length||q.length||g.error("jQuery UI Tabs: Mismatching fragment identifier."),q.length&&this.load(this.tabs.index(k),x),this._toggle(x,w))},_toggle:function(k,j){function l(){q.running=!1,q._trigger("activate",k,j)}function e(){j.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),m.length&&q.options.show?q._show(m,q.options.show,l):(m.show(),l())}var q=this,m=j.newPanel,p=j.oldPanel;this.running=!0,p.length&&this.options.hide?this._hide(p,this.options.hide,function(){j.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(j.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),p.hide(),e()),p.attr({"aria-expanded":"false","aria-hidden":"true"}),j.oldTab.attr("aria-selected","false"),m.length&&p.length?j.oldTab.attr("tabIndex",-1):m.length&&this.tabs.filter(function(){return 0===g(this).attr("tabIndex")}).attr("tabIndex",-1),m.attr({"aria-expanded":"true","aria-hidden":"false"}),j.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var a,j=this._findActive(e);j[0]!==this.active[0]&&(j.length||(j=this.active),a=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:g.noop}))},_findActive:function(a){return a===!1?g():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){g.data(this,"ui-tabs-destroy")?g(this).remove():g(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=g(this),a=e.data("ui-tabs-aria-controls");a?e.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var e=this.options.disabled;e!==!1&&(a===d?e=!1:(a=this._getIndex(a),e=g.isArray(e)?g.map(e,function(i){return i!==a?i:null}):g.map(this.tabs,function(j,i){return i!==a?i:null})),this._setupDisabled(e))},disable:function(a){var e=this.options.disabled;if(e!==!0){if(a===d){e=!0}else{if(a=this._getIndex(a),-1!==g.inArray(a,e)){return}e=g.isArray(e)?g.merge([a],e).sort():[a]}this._setupDisabled(e)}},load:function(k,j){k=this._getIndex(k);var e=this,q=this.tabs.eq(k),m=q.find(".ui-tabs-anchor"),p=this._getPanelForTab(q),l={tab:q,panel:p};f(m[0])||(this.xhr=g.ajax(this._ajaxSettings(m,j,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(q.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a),e._trigger("load",j,l)},1)}).complete(function(i,a){setTimeout(function(){"abort"===a&&e.panels.stop(!1,!0),q.removeClass("ui-tabs-loading"),p.removeAttr("aria-busy"),i===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(k,j,l){var e=this;return{url:k.attr("href"),beforeSend:function(a,i){return e._trigger("beforeLoad",j,g.extend({jqXHR:a,ajaxSettings:i},l))}}},_getPanelForTab:function(e){var a=g(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}})})(jQuery);