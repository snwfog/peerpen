/*! jQuery UI - v1.10.3 - 2013-09-20
* http://jqueryui.com
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(b){var a=0;b.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,d,c,f=this.element[0].nodeName.toLowerCase(),h="textarea"===f,g="input"===f;this.isMultiLine=h?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[h||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){return e=!0,c=!0,d=!0,undefined}e=!1,c=!1,d=!1;var j=b.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:e=!0,this._move("previousPage",i);break;case j.PAGE_DOWN:e=!0,this._move("nextPage",i);break;case j.UP:e=!0,this._keyEvent("previous",i);break;case j.DOWN:e=!0,this._keyEvent("next",i);break;case j.ENTER:case j.NUMPAD_ENTER:this.menu.active&&(e=!0,i.preventDefault(),this.menu.select(i));break;case j.TAB:this.menu.active&&this.menu.select(i);break;case j.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:d=!0,this._searchTimeout(i)}},keypress:function(i){if(e){return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault(),undefined}if(!d){var j=b.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:this._move("previousPage",i);break;case j.PAGE_DOWN:this._move("nextPage",i);break;case j.UP:this._keyEvent("previous",i);break;case j.DOWN:this._keyEvent("next",i)}}},input:function(i){return c?(c=!1,i.preventDefault(),undefined):(this._searchTimeout(i),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(i){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(i),this._change(i),undefined)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(k){k.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var j=this.menu.element[0];b(k.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(l){l.target===i.element[0]||l.target===j||b.contains(j,l.target)||i.close()})})},menufocus:function(l,k){if(this.isNewMenu&&(this.isNewMenu=!1,l.originalEvent&&/^mouse/.test(l.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){b(l.target).trigger(l.originalEvent)}),undefined}var j=k.item.data("ui-autocomplete-item");!1!==this._trigger("focus",l,{item:j})?l.originalEvent&&/^key/.test(l.originalEvent.type)&&this._value(j.value):this.liveRegion.text(j.value)},menuselect:function(m,l){var k=l.item.data("ui-autocomplete-item"),j=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=j,this._delay(function(){this.previous=j,this.selectedItem=k})),!1!==this._trigger("select",m,{item:k})&&this._value(k.value),this.term=this._value(),this.close(m),this.selectedItem=k}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,c){this._super(d,c),"source"===d&&this._initSource(),"appendTo"===d&&this.menu.element.appendTo(this._appendTo()),"disabled"===d&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?b(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var e,d,c=this;b.isArray(this.options.source)?(e=this.options.source,this.source=function(g,f){f(b.ui.autocomplete.filter(e,g.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(f,g){c.xhr&&c.xhr.abort(),c.xhr=b.ajax({url:d,data:f,dataType:"json",success:function(h){g(h)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(d,c){return d=null!=d?d:this._value(),this.term=this._value(),d.length<this.options.minLength?this.close(c):this._trigger("search",c)!==!1?this._search(d):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++a;return function(e){c===a&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(d){return"string"==typeof d?{label:d,value:d}:b.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty();this._renderMenu(c,d),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var c=this;b.each(d,function(g,f){c._renderItemData(e,f)})},_renderItemData:function(d,c){return this._renderItem(d,c).data("ui-autocomplete-item",c)},_renderItem:function(d,c){return b("<li>").append(b("<a>").text(c.label)).appendTo(d)},_move:function(d,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[d](c),undefined):(this.search(null,c),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(d,c),c.preventDefault())}}),b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,d){var c=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(e,function(f){return c.test(f.label||f.value||f)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=d&&d.length?this.options.messages.results(d.length):this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);