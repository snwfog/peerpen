(function(a,b){a(document).ready(function(){module("key-combo",{setup:function(){tests.testSetup();a("#textInput").val("")},teardown:function(){tests.testTearDown()}});test("simple combo",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:65},{type:"keypress",which:"a".charCodeAt(0)},{type:"keydown",keyCode:83},{type:"keypress",which:"S".charCodeAt(0)},{type:"keydown",keyCode:68},{type:"keypress",which:"d".charCodeAt(0)},{type:"keydown",keyCode:70},{type:"keypress",which:"F".charCodeAt(0)},{type:"keyup",keyCode:70},{type:"keyup",keyCode:68},{type:"keyup",keyCode:83},{type:"keyup",keyCode:65}];c.simulate("key-combo",{combo:"a+S+d+F"});strictEqual(c.val(),"aSdF","Verify result of sequence")});test("events only",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:65},{type:"keypress",which:"a".charCodeAt(0)},{type:"keydown",keyCode:83},{type:"keypress",which:"S".charCodeAt(0)},{type:"keydown",keyCode:68},{type:"keypress",which:"d".charCodeAt(0)},{type:"keydown",keyCode:70},{type:"keypress",which:"F".charCodeAt(0)},{type:"keyup",keyCode:70},{type:"keyup",keyCode:68},{type:"keyup",keyCode:83},{type:"keyup",keyCode:65}];c.simulate("key-combo",{combo:"a+S+d+F",eventsOnly:true});strictEqual(c.val(),"","Verify result of sequence")});test("modifiers",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:17,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keydown",keyCode:16,ctrlKey:true,shiftKey:true,altKey:false,metaKey:false},{type:"keydown",keyCode:18,ctrlKey:true,shiftKey:true,altKey:true,metaKey:false},{type:"keydown",keyCode:91,ctrlKey:true,shiftKey:true,altKey:true,metaKey:true},{type:"keydown",keyCode:65,ctrlKey:true,shiftKey:true,altKey:true,metaKey:true},{type:"keypress",which:65,ctrlKey:true,shiftKey:true,altKey:true,metaKey:true},{type:"keyup",keyCode:65,ctrlKey:true,shiftKey:true,altKey:true,metaKey:true},{type:"keyup",keyCode:91,ctrlKey:true,shiftKey:true,altKey:true,metaKey:false},{type:"keyup",keyCode:18,ctrlKey:true,shiftKey:true,altKey:false,metaKey:false},{type:"keyup",keyCode:16,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keyup",keyCode:17,ctrlKey:false,shiftKey:false,altKey:false,metaKey:false}];c.simulate("key-combo",{combo:"ctrl+shift+alt+meta+a"});strictEqual(c.val(),"","Verify result of sequence")});test("shift",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:16,ctrlKey:false,shiftKey:true,altKey:false,metaKey:false},{type:"keydown",keyCode:65,ctrlKey:false,shiftKey:true,altKey:false,metaKey:false},{type:"keypress",which:"A".charCodeAt(0),ctrlKey:false,shiftKey:true,altKey:false,metaKey:false},{type:"keyup",keyCode:65,ctrlKey:false,shiftKey:true,altKey:false,metaKey:false},{type:"keyup",keyCode:16,ctrlKey:false,shiftKey:false,altKey:false,metaKey:false}];c.simulate("key-combo",{combo:"shift+a"});strictEqual(c.val(),"A","Verify result of sequence")});test("modifier without shift",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:17,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keydown",keyCode:65,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keypress",which:"a".charCodeAt(0),ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keyup",keyCode:65,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keyup",keyCode:17,ctrlKey:false,shiftKey:false,altKey:false,metaKey:false}];c.simulate("key-combo",{combo:"ctrl+a"});strictEqual(c.val(),"","Verify result of sequence")});test("special character combo",function(){var c=a("#textInput");tests.expectedEvents=[{type:"keydown",keyCode:17,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keydown",keyCode:187,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keypress",which:"+".charCodeAt(0),ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keyup",keyCode:187,ctrlKey:true,shiftKey:false,altKey:false,metaKey:false},{type:"keyup",keyCode:17,ctrlKey:false,shiftKey:false,altKey:false,metaKey:false}];c.simulate("key-combo",{combo:"ctrl++"});strictEqual(c.val(),"","Verify result of sequence")})})}(jQuery));