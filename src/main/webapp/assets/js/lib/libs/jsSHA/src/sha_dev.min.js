var SUPPORTED_ALGS=4|2|1;(function(l){function x(K,J){this.highOrder=K;this.lowOrder=J}function E(N,O){var L=[],J=(1<<O)-1,M=N.length*O,K;for(K=0;K<M;K+=O){L[K>>>5]|=(N.charCodeAt(K/O)&J)<<(32-O-(K%32))}return{value:L,binLen:M}}function a(N){var L=[],M=N.length,K,J;if(0!==(M%2)){throw"String of HEX type must be in byte increments"}for(K=0;K<M;K+=2){J=parseInt(N.substr(K,2),16);if(!isNaN(J)){L[K>>>3]|=J<<(24-(4*(K%8)))}else{throw"String of HEX type contains invalid characters"}}return{value:L,binLen:M*4}}function I(R){var K=[],L=0,Q,O,N,P,S,M,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(-1===R.search(/^[a-zA-Z0-9=+\/]+$/)){throw"Invalid character in base-64 string"}M=R.indexOf("=");R=R.replace(/\=/g,"");if((-1!==M)&&(M<R.length)){throw"Invalid '=' found in base-64 string"}for(O=0;O<R.length;O+=4){S=R.substr(O,4);P=0;for(N=0;N<S.length;N+=1){Q=J.indexOf(S[N]);P|=Q<<(18-(6*N))}for(N=0;N<S.length-1;N+=1){K[L>>2]|=((P>>>(16-(N*8)))&255)<<(24-(8*(L%4)));L+=1}}return{value:K,binLen:L*8}}function o(O,N){var M="0123456789abcdef",P="",L=O.length*4,K,J;for(K=0;K<L;K+=1){J=O[K>>>2]>>>((3-(K%4))*8);P+=M.charAt((J>>>4)&15)+M.charAt(J&15)}return(N.outputUpper)?P.toUpperCase():P}function p(O,N){var Q="",L=O.length*4,K,J,P,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(K=0;K<L;K+=3){P=(((O[K>>>2]>>>8*(3-K%4))&255)<<16)|(((O[K+1>>>2]>>>8*(3-(K+1)%4))&255)<<8)|((O[K+2>>>2]>>>8*(3-(K+2)%4))&255);for(J=0;J<4;J+=1){if(K*8+J*6<=O.length*32){Q+=M.charAt((P>>>6*(3-J))&63)}else{Q+=N.b64Pad}}}return Q}function D(L){var K={outputUpper:false,b64Pad:"="};try{if(L.hasOwnProperty("outputUpper")){K.outputUpper=L.outputUpper}if(L.hasOwnProperty("b64Pad")){K.b64Pad=L.b64Pad}}catch(J){}if("boolean"!==typeof(K.outputUpper)){throw"Invalid outputUpper formatting option"}if("string"!==typeof(K.b64Pad)){throw"Invalid b64Pad formatting option"}return K}function i(J,K){return(J<<K)|(J>>>(32-K))}function g(J,K){return(J>>>K)|(J<<(32-K))}function f(J,M){var L=null,K=new x(J.highOrder,J.lowOrder);if(32>=M){L=new x((K.highOrder>>>M)|((K.lowOrder<<(32-M))&4294967295),(K.lowOrder>>>M)|((K.highOrder<<(32-M))&4294967295))}else{L=new x((K.lowOrder>>>(M-32))|((K.highOrder<<(64-M))&4294967295),(K.highOrder>>>(M-32))|((K.lowOrder<<(64-M))&4294967295))}return L}function d(J,K){return J>>>K}function b(J,L){var K=null;if(32>=L){K=new x(J.highOrder>>>L,J.lowOrder>>>L|((J.highOrder<<(32-L))&4294967295))}else{K=new x(0,J.highOrder>>>(L-32))}return K}function w(J,L,K){return J^L^K}function n(J,L,K){return(J&L)^(~J&K)}function m(J,L,K){return new x((J.highOrder&L.highOrder)^(~J.highOrder&K.highOrder),(J.lowOrder&L.lowOrder)^(~J.lowOrder&K.lowOrder))}function F(J,L,K){return(J&L)^(J&K)^(L&K)}function C(J,L,K){return new x((J.highOrder&L.highOrder)^(J.highOrder&K.highOrder)^(L.highOrder&K.highOrder),(J.lowOrder&L.lowOrder)^(J.lowOrder&K.lowOrder)^(L.lowOrder&K.lowOrder))}function B(J){return g(J,2)^g(J,13)^g(J,22)}function z(J){var K=f(J,28),M=f(J,34),L=f(J,39);return new x(K.highOrder^M.highOrder^L.highOrder,K.lowOrder^M.lowOrder^L.lowOrder)}function H(J){return g(J,6)^g(J,11)^g(J,25)}function G(K){var M=f(K,14),J=f(K,18),L=f(K,41);return new x(M.highOrder^J.highOrder^L.highOrder,M.lowOrder^J.lowOrder^L.lowOrder)}function v(J){return g(J,7)^g(J,18)^d(J,3)}function u(J){var M=f(J,1),K=f(J,8),L=b(J,7);return new x(M.highOrder^K.highOrder^L.highOrder,M.lowOrder^K.lowOrder^L.lowOrder)}function A(J){return g(J,17)^g(J,19)^d(J,10)}function y(J){var M=f(J,19),L=f(J,61),K=b(J,6);return new x(M.highOrder^L.highOrder^K.highOrder,M.lowOrder^L.lowOrder^K.lowOrder)}function t(K,J){var M=(K&65535)+(J&65535),L=(K>>>16)+(J>>>16)+(M>>>16);return((L&65535)<<16)|(M&65535)}function s(K,J,O,N){var M=(K&65535)+(J&65535)+(O&65535)+(N&65535),L=(K>>>16)+(J>>>16)+(O>>>16)+(N>>>16)+(M>>>16);return((L&65535)<<16)|(M&65535)}function r(K,J,P,O,N){var M=(K&65535)+(J&65535)+(P&65535)+(O&65535)+(N&65535),L=(K>>>16)+(J>>>16)+(P>>>16)+(O>>>16)+(N>>>16)+(M>>>16);return((L&65535)<<16)|(M&65535)}function h(J,O){var M,K,N,L;M=(J.lowOrder&65535)+(O.lowOrder&65535);K=(J.lowOrder>>>16)+(O.lowOrder>>>16)+(M>>>16);N=((K&65535)<<16)|(M&65535);M=(J.highOrder&65535)+(O.highOrder&65535)+(K>>>16);K=(J.highOrder>>>16)+(O.highOrder>>>16)+(M>>>16);L=((K&65535)<<16)|(M&65535);return new x(L,N)}function e(K,J,Q,P){var N,L,O,M;N=(K.lowOrder&65535)+(J.lowOrder&65535)+(Q.lowOrder&65535)+(P.lowOrder&65535);L=(K.lowOrder>>>16)+(J.lowOrder>>>16)+(Q.lowOrder>>>16)+(P.lowOrder>>>16)+(N>>>16);O=((L&65535)<<16)|(N&65535);N=(K.highOrder&65535)+(J.highOrder&65535)+(Q.highOrder&65535)+(P.highOrder&65535)+(L>>>16);L=(K.highOrder>>>16)+(J.highOrder>>>16)+(Q.highOrder>>>16)+(P.highOrder>>>16)+(N>>>16);M=((L&65535)<<16)|(N&65535);return new x(M,O)}function c(Q,P,O,N,M){var J,L,K,R;J=(Q.lowOrder&65535)+(P.lowOrder&65535)+(O.lowOrder&65535)+(N.lowOrder&65535)+(M.lowOrder&65535);L=(Q.lowOrder>>>16)+(P.lowOrder>>>16)+(O.lowOrder>>>16)+(N.lowOrder>>>16)+(M.lowOrder>>>16)+(J>>>16);K=((L&65535)<<16)|(J&65535);J=(Q.highOrder&65535)+(P.highOrder&65535)+(O.highOrder&65535)+(N.highOrder&65535)+(M.highOrder&65535)+(L>>>16);L=(Q.highOrder>>>16)+(P.highOrder>>>16)+(O.highOrder>>>16)+(N.highOrder>>>16)+(M.highOrder>>>16)+(J>>>16);R=((L&65535)<<16)|(J&65535);return new x(R,K)}function k(R,Z){var N=[],af,ae,ad,ac,ab,O,S=n,X=w,L=F,Y=i,M=t,aa,U,J=r,V,Q=[1732584193,4023233417,2562383102,271733878,3285377520],P=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];R[Z>>>5]|=128<<(24-(Z%32));R[(((Z+65)>>>9)<<4)+15]=Z;V=R.length;for(aa=0;aa<V;aa+=16){af=Q[0];ae=Q[1];ad=Q[2];ac=Q[3];ab=Q[4];for(U=0;U<80;U+=1){if(U<16){N[U]=R[U+aa]}else{N[U]=Y(N[U-3]^N[U-8]^N[U-14]^N[U-16],1)}if(U<20){O=J(Y(af,5),S(ae,ad,ac),ab,P[U],N[U])}else{if(U<40){O=J(Y(af,5),X(ae,ad,ac),ab,P[U],N[U])}else{if(U<60){O=J(Y(af,5),L(ae,ad,ac),ab,P[U],N[U])}else{O=J(Y(af,5),X(ae,ad,ac),ab,P[U],N[U])}}}ab=ac;ac=ad;ad=Y(ae,30);ae=af;af=O}Q[0]=M(af,Q[0]);Q[1]=M(ae,Q[1]);Q[2]=M(ad,Q[2]);Q[3]=M(ac,Q[3]);Q[4]=M(ab,Q[4])}return Q}function j(T,af,Q){var aq,ap,ao,am,al,ak,aj,ah,ad,Z,U,ae,ai,ag,Y,P,ac,N,M,J,at,ar,ab,X,V,L,R,S,O=[],aa,an;if((Q==="SHA-224"||Q==="SHA-256")&&(2&SUPPORTED_ALGS)){ae=64;ai=(((af+65)>>>9)<<4)+15;P=16;ac=1;R=Number;N=t;M=s;J=r;at=v;ar=A;ab=B;X=H;L=F;V=n;S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if("SHA-224"===Q){U=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}else{U=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]}}else{if((Q==="SHA-384"||Q==="SHA-512")&&(4&SUPPORTED_ALGS)){ae=80;ai=(((af+128)>>>10)<<5)+31;P=32;ac=2;R=x;N=h;M=e;J=c;at=u;ar=y;ab=z;X=G;L=C;V=m;S=[new R(1116352408,3609767458),new R(1899447441,602891725),new R(3049323471,3964484399),new R(3921009573,2173295548),new R(961987163,4081628472),new R(1508970993,3053834265),new R(2453635748,2937671579),new R(2870763221,3664609560),new R(3624381080,2734883394),new R(310598401,1164996542),new R(607225278,1323610764),new R(1426881987,3590304994),new R(1925078388,4068182383),new R(2162078206,991336113),new R(2614888103,633803317),new R(3248222580,3479774868),new R(3835390401,2666613458),new R(4022224774,944711139),new R(264347078,2341262773),new R(604807628,2007800933),new R(770255983,1495990901),new R(1249150122,1856431235),new R(1555081692,3175218132),new R(1996064986,2198950837),new R(2554220882,3999719339),new R(2821834349,766784016),new R(2952996808,2566594879),new R(3210313671,3203337956),new R(3336571891,1034457026),new R(3584528711,2466948901),new R(113926993,3758326383),new R(338241895,168717936),new R(666307205,1188179964),new R(773529912,1546045734),new R(1294757372,1522805485),new R(1396182291,2643833823),new R(1695183700,2343527390),new R(1986661051,1014477480),new R(2177026350,1206759142),new R(2456956037,344077627),new R(2730485921,1290863460),new R(2820302411,3158454273),new R(3259730800,3505952657),new R(3345764771,106217008),new R(3516065817,3606008344),new R(3600352804,1432725776),new R(4094571909,1467031594),new R(275423344,851169720),new R(430227734,3100823752),new R(506948616,1363258195),new R(659060556,3750685593),new R(883997877,3785050280),new R(958139571,3318307427),new R(1322822218,3812723403),new R(1537002063,2003034995),new R(1747873779,3602036899),new R(1955562222,1575990012),new R(2024104815,1125592928),new R(2227730452,2716904306),new R(2361852424,442776044),new R(2428436474,593698344),new R(2756734187,3733110249),new R(3204031479,2999351573),new R(3329325298,3815920427),new R(3391569614,3928383900),new R(3515267271,566280711),new R(3940187606,3454069534),new R(4118630271,4000239992),new R(116418474,1914138554),new R(174292421,2731055270),new R(289380356,3203993006),new R(460393269,320620315),new R(685471733,587496836),new R(852142971,1086792851),new R(1017036298,365543100),new R(1126000580,2618297676),new R(1288033470,3409855158),new R(1501505948,4234509866),new R(1607167915,987167468),new R(1816402316,1246189591)];if("SHA-384"===Q){U=[new R(3418070365,3238371032),new R(1654270250,914150663),new R(2438529370,812702999),new R(355462360,4144912697),new R(1731405415,4290775857),new R(41048885895,1750603025),new R(3675008525,1694076839),new R(1203062813,3204075428)]}else{U=[new R(1779033703,4089235720),new R(3144134277,2227873595),new R(1013904242,4271175723),new R(2773480762,1595750129),new R(1359893119,2917565137),new R(2600822924,725511199),new R(528734635,4215389547),new R(1541459225,327033209)]}}else{throw"Unexpected error in SHA-2 implementation"}}T[af>>>5]|=128<<(24-af%32);T[ai]=af;aa=T.length;for(ag=0;ag<aa;ag+=P){aq=U[0];ap=U[1];ao=U[2];am=U[3];al=U[4];ak=U[5];aj=U[6];ah=U[7];for(Y=0;Y<ae;Y+=1){if(Y<16){O[Y]=new R(T[Y*ac+ag],T[Y*ac+ag+1])}else{O[Y]=M(ar(O[Y-2]),O[Y-7],at(O[Y-15]),O[Y-16])}ad=J(ah,X(al),V(al,ak,aj),S[Y],O[Y]);Z=N(ab(aq),L(aq,ap,ao));ah=aj;aj=ak;ak=al;al=N(am,ad);am=ao;ao=ap;ap=aq;aq=N(ad,Z)}U[0]=N(aq,U[0]);U[1]=N(ap,U[1]);U[2]=N(ao,U[2]);U[3]=N(am,U[3]);U[4]=N(al,U[4]);U[5]=N(ak,U[5]);U[6]=N(aj,U[6]);U[7]=N(ah,U[7])}if(("SHA-224"===Q)&&(2&SUPPORTED_ALGS)){an=[U[0],U[1],U[2],U[3],U[4],U[5],U[6]]}else{if(("SHA-256"===Q)&&(2&SUPPORTED_ALGS)){an=U}else{if(("SHA-384"===Q)&&(4&SUPPORTED_ALGS)){an=[U[0].highOrder,U[0].lowOrder,U[1].highOrder,U[1].lowOrder,U[2].highOrder,U[2].lowOrder,U[3].highOrder,U[3].lowOrder,U[4].highOrder,U[4].lowOrder,U[5].highOrder,U[5].lowOrder]}else{if(("SHA-512"===Q)&&(4&SUPPORTED_ALGS)){an=[U[0].highOrder,U[0].lowOrder,U[1].highOrder,U[1].lowOrder,U[2].highOrder,U[2].lowOrder,U[3].highOrder,U[3].lowOrder,U[4].highOrder,U[4].lowOrder,U[5].highOrder,U[5].lowOrder,U[6].highOrder,U[6].lowOrder,U[7].highOrder,U[7].lowOrder]}else{throw"Unexpected error in SHA-2 implementation"}}}}return an}var q=function(P,U,S){var Q=null,J=null,T=null,L=null,K=null,R=0,O=[0],N=0,M=null;N=("undefined"!==typeof(S))?S:8;if(!((8===N)||(16===N))){throw"charSize must be 8 or 16"}if("HEX"===U){if(0!==(P.length%2)){throw"srcString of HEX type must be in byte increments"}M=a(P);R=M.binLen;O=M.value}else{if(("ASCII"===U)||("TEXT"===U)){M=E(P,N);R=M.binLen;O=M.value}else{if("B64"===U){M=I(P);R=M.binLen;O=M.value}else{throw"inputFormat must be HEX, TEXT, ASCII, or B64"}}}this.getHash=function(V,aa,X){var Z=null,W=O.slice(),Y="";switch(aa){case"HEX":Z=o;break;case"B64":Z=p;break;default:throw"format must be HEX or B64"}if(("SHA-1"===V)&&(1&SUPPORTED_ALGS)){if(null===Q){Q=k(W,R)}Y=Z(Q,D(X))}else{if(("SHA-224"===V)&&(2&SUPPORTED_ALGS)){if(null===J){J=j(W,R,V)}Y=Z(J,D(X))}else{if(("SHA-256"===V)&&(2&SUPPORTED_ALGS)){if(null===T){T=j(W,R,V)}Y=Z(T,D(X))}else{if(("SHA-384"===V)&&(4&SUPPORTED_ALGS)){if(null===L){L=j(W,R,V)}Y=Z(L,D(X))}else{if(("SHA-512"===V)&&(4&SUPPORTED_ALGS)){if(null===K){K=j(W,R,V)}Y=Z(K,D(X))}else{throw"Chosen SHA variant is not supported"}}}}}return Y};this.getHMAC=function(af,al,Y,ab,Z){var aj,ac,ah,ai,aa,V,ag,ad,ak,ae=[],X=[],W=null;switch(ab){case"HEX":aj=o;break;case"B64":aj=p;break;default:throw"outputFormat must be HEX or B64"}if(("SHA-1"===Y)&&(1&SUPPORTED_ALGS)){ah=64;ak=160}else{if(("SHA-224"===Y)&&(2&SUPPORTED_ALGS)){ah=64;ak=224}else{if(("SHA-256"===Y)&&(2&SUPPORTED_ALGS)){ah=64;ak=256}else{if(("SHA-384"===Y)&&(4&SUPPORTED_ALGS)){ah=128;ak=384}else{if(("SHA-512"===Y)&&(4&SUPPORTED_ALGS)){ah=128;ak=512}else{throw"Chosen SHA variant is not supported"}}}}}if("HEX"===al){W=a(af);ad=W.binLen;ac=W.value}else{if(("ASCII"===al)||("TEXT"===al)){W=E(af,N);ad=W.binLen;ac=W.value}else{if("B64"===al){W=I(af);ad=W.binLen;ac=W.value}else{throw"inputFormat must be HEX, TEXT, ASCII, or B64"}}}ai=ah*8;ag=(ah/4)-1;if(ah<(ad/8)){if(("SHA-1"===Y)&&(1&SUPPORTED_ALGS)){ac=k(ac,ad)}else{if(6&SUPPORTED_ALGS){ac=j(ac,ad,Y)}else{throw"Unexpected error in HMAC implementation"}}ac[ag]&=4294967040}else{if(ah>(ad/8)){ac[ag]&=4294967040}}for(aa=0;aa<=ag;aa+=1){ae[aa]=ac[aa]^909522486;X[aa]=ac[aa]^1549556828}if(("SHA-1"===Y)&&(1&SUPPORTED_ALGS)){V=k(X.concat(k(ae.concat(O),ai+R)),ai+ak)}else{if(6&SUPPORTED_ALGS){V=j(X.concat(j(ae.concat(O),ai+R,Y)),ai+ak,Y)}else{throw"Unexpected error in HMAC implementation"}}return aj(V,D(Z))}};l.jsSHA=q}(window));