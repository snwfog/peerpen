(function(){function v(n){throw n}var s=null;function p(r,n){var y=[],t=(1<<n)-1,x=r.length*n,w;for(w=0;w<x;w+=n){y[w>>>5]|=(r.charCodeAt(w/n)&t)<<32-n-w%32}return{value:y,binLen:x}}function k(r){var n=[],x=r.length,t,w;0!==x%2&&v("String of HEX type must be in byte increments");for(t=0;t<x;t+=2){w=parseInt(r.substr(t,2),16),isNaN(w)&&v("String of HEX type contains invalid characters"),n[t>>>3]|=w<<24-4*(t%8)}return{value:n,binLen:4*x}}function u(t){var n=[],A=0,x,z,y,w,r;-1===t.search(/^[a-zA-Z0-9=+\/]+$/)&&v("Invalid character in base-64 string");x=t.indexOf("=");t=t.replace(/\=/g,"");-1!==x&&x<t.length&&v("Invalid '=' found in base-64 string");for(z=0;z<t.length;z+=4){r=t.substr(z,4);for(y=w=0;y<r.length;y+=1){x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(r[y]),w|=x<<18-6*y}for(y=0;y<r.length-1;y+=1){n[A>>2]|=(w>>>16-8*y&255)<<24-8*(A%4),A+=1}}return{value:n,binLen:8*A}}function q(r,n){var y="",t=4*r.length,x,w;for(x=0;x<t;x+=1){w=r[x>>>2]>>>8*(3-x%4),y+="0123456789abcdef".charAt(w>>>4&15)+"0123456789abcdef".charAt(w&15)}return n.outputUpper?y.toUpperCase():y}function o(r,n){var z="",w=4*r.length,y,x,t;for(y=0;y<w;y+=3){t=(r[y>>>2]>>>8*(3-y%4)&255)<<16|(r[y+1>>>2]>>>8*(3-(y+1)%4)&255)<<8|r[y+2>>>2]>>>8*(3-(y+2)%4)&255;for(x=0;4>x;x+=1){z=8*y+6*x<=32*r.length?z+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>>6*(3-x)&63):z+n.b64Pad}}return z}function m(r){var n={outputUpper:!1,b64Pad:"="};try{r.hasOwnProperty("outputUpper")&&(n.outputUpper=r.outputUpper),r.hasOwnProperty("b64Pad")&&(n.b64Pad=r.b64Pad)}catch(t){}"boolean"!==typeof n.outputUpper&&v("Invalid outputUpper formatting option");"string"!==typeof n.b64Pad&&v("Invalid b64Pad formatting option");return n}function l(r,n){return r>>>n|r<<32-n}function j(r,n,t){return r&n^~r&t}function i(r,n,t){return r&n^r&t^n&t}function g(n){return l(n,2)^l(n,13)^l(n,22)}function f(n){return l(n,6)^l(n,11)^l(n,25)}function e(n){return l(n,7)^l(n,18)^n>>>3}function d(n){return l(n,17)^l(n,19)^n>>>10}function c(r,n){var t=(r&65535)+(n&65535);return((r>>>16)+(n>>>16)+(t>>>16)&65535)<<16|t&65535}function b(r,n,x,t){var w=(r&65535)+(n&65535)+(x&65535)+(t&65535);return((r>>>16)+(n>>>16)+(x>>>16)+(t>>>16)+(w>>>16)&65535)<<16|w&65535}function a(r,n,y,t,x){var w=(r&65535)+(n&65535)+(y&65535)+(t&65535)+(x&65535);return((r>>>16)+(n>>>16)+(y>>>16)+(t>>>16)+(x>>>16)+(w>>>16)&65535)<<16|w&65535}function h(an,am,al){var ai,ak,aj,ae,ad,af,G,aa,U,ah,S,W,ag,ac,X,ab,T,H,Z,F,E,D,A,w,t,r,V=[],n,Y;"SHA-224"===al||"SHA-256"===al?(S=64,ac=16,X=1,t=Number,ab=c,T=b,H=a,Z=e,F=d,E=g,D=f,w=i,A=j,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ah="SHA-224"===al?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]):v("Unexpected error in SHA-2 implementation");an[am>>>5]|=128<<24-am%32;an[(am+65>>>9<<4)+15]=am;n=an.length;for(W=0;W<n;W+=ac){am=ah[0];ai=ah[1];ak=ah[2];aj=ah[3];ae=ah[4];ad=ah[5];af=ah[6];G=ah[7];for(ag=0;ag<S;ag+=1){V[ag]=16>ag?new t(an[ag*X+W],an[ag*X+W+1]):T(F(V[ag-2]),V[ag-7],Z(V[ag-15]),V[ag-16]),aa=H(G,D(ae),A(ae,ad,af),r[ag],V[ag]),U=ab(E(am),w(am,ai,ak)),G=af,af=ad,ad=ae,ae=ab(aj,aa),aj=ak,ak=ai,ai=am,am=ab(aa,U)}ah[0]=ab(am,ah[0]);ah[1]=ab(ai,ah[1]);ah[2]=ab(ak,ah[2]);ah[3]=ab(aj,ah[3]);ah[4]=ab(ae,ah[4]);ah[5]=ab(ad,ah[5]);ah[6]=ab(af,ah[6]);ah[7]=ab(G,ah[7])}"SHA-224"===al?Y=[ah[0],ah[1],ah[2],ah[3],ah[4],ah[5],ah[6]]:"SHA-256"===al?Y=ah:v("Unexpected error in SHA-2 implementation");return Y}window.jsSHA=function(B,A,z){var w=s,y=s,x=0,r=[0],n=0,t=s,n="undefined"!==typeof z?z:8;8===n||16===n||v("charSize must be 8 or 16");"HEX"===A?(0!==B.length%2&&v("srcString of HEX type must be in byte increments"),t=k(B),x=t.binLen,r=t.value):"ASCII"===A||"TEXT"===A?(t=p(B,n),x=t.binLen,r=t.value):"B64"===A?(t=u(B),x=t.binLen,r=t.value):v("inputFormat must be HEX, TEXT, ASCII, or B64");this.getHash=function(E,C,H){var G=s,D=r.slice(),F="";switch(C){case"HEX":G=q;break;case"B64":G=o;break;default:v("format must be HEX or B64")}"SHA-224"===E?(s===w&&(w=h(D,x,E)),F=G(w,m(H))):"SHA-256"===E?(s===y&&(y=h(D,x,E)),F=G(y,m(H))):v("Chosen SHA variant is not supported");return F};this.getHMAC=function(N,L,J,I,H){var F,G,E,O,D,M=[],K=[],C=s;switch(I){case"HEX":F=q;break;case"B64":F=o;break;default:v("outputFormat must be HEX or B64")}"SHA-224"===J?(E=64,D=224):"SHA-256"===J?(E=64,D=256):v("Chosen SHA variant is not supported");"HEX"===L?(C=k(N),O=C.binLen,G=C.value):"ASCII"===L||"TEXT"===L?(C=p(N,n),O=C.binLen,G=C.value):"B64"===L?(C=u(N),O=C.binLen,G=C.value):v("inputFormat must be HEX, TEXT, ASCII, or B64");N=8*E;L=E/4-1;E<O/8?(G=h(G,O,J),G[L]&=4294967040):E>O/8&&(G[L]&=4294967040);for(E=0;E<=L;E+=1){M[E]=G[E]^909522486,K[E]=G[E]^1549556828}J=h(K.concat(h(M.concat(r),N+x,J)),N+D,J);return F(J,m(H))}}})();