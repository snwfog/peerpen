(function(){function G(q){throw q}var C=null;function A(q,r){this.a=q;this.b=r}function u(r,B){var q=[],y=(1<<B)-1,z=r.length*B,s;for(s=0;s<z;s+=B){q[s>>>5]|=(r.charCodeAt(s/B)&y)<<32-B-s%32}return{value:q,binLen:z}}function t(r){var z=[],q=r.length,s,y;0!==q%2&&G("String of HEX type must be in byte increments");for(s=0;s<q;s+=2){y=parseInt(r.substr(s,2),16),isNaN(y)&&G("String of HEX type contains invalid characters"),z[s>>>3]|=y<<24-4*(s%8)}return{value:z,binLen:4*q}}function D(s){var F=[],q=0,B,E,z,y,r;-1===s.search(/^[a-zA-Z0-9=+\/]+$/)&&G("Invalid character in base-64 string");B=s.indexOf("=");s=s.replace(/\=/g,"");-1!==B&&B<s.length&&G("Invalid '=' found in base-64 string");for(E=0;E<s.length;E+=4){r=s.substr(E,4);for(z=y=0;z<r.length;z+=1){B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(r[z]),y|=B<<18-6*z}for(z=0;z<r.length-1;z+=1){F[q>>2]|=(y>>>16-8*z&255)<<24-8*(q%4),q+=1}}return{value:F,binLen:8*q}}function x(r,B){var q="",y=4*r.length,z,s;for(z=0;z<y;z+=1){s=r[z>>>2]>>>8*(3-z%4),q+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(s&15)}return B.outputUpper?q.toUpperCase():q}function w(r,E){var q="",z=4*r.length,B,y,s;for(B=0;B<z;B+=3){s=(r[B>>>2]>>>8*(3-B%4)&255)<<16|(r[B+1>>>2]>>>8*(3-(B+1)%4)&255)<<8|r[B+2>>>2]>>>8*(3-(B+2)%4)&255;for(y=0;4>y;y+=1){q=8*B+6*y<=32*r.length?q+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-y)&63):q+E.b64Pad}}return q}function v(r){var s={outputUpper:!1,b64Pad:"="};try{r.hasOwnProperty("outputUpper")&&(s.outputUpper=r.outputUpper),r.hasOwnProperty("b64Pad")&&(s.b64Pad=r.b64Pad)}catch(q){}"boolean"!==typeof s.outputUpper&&G("Invalid outputUpper formatting option");"string"!==typeof s.b64Pad&&G("Invalid b64Pad formatting option");return s}function p(q,r){return q>>>r|q<<32-r}function k(r,s){var q=C,q=new A(r.a,r.b);return q=32>=s?new A(q.a>>>s|q.b<<32-s&4294967295,q.b>>>s|q.a<<32-s&4294967295):new A(q.b>>>s-32|q.a<<64-s&4294967295,q.a>>>s-32|q.b<<64-s&4294967295)}function j(r,s){var q=C;return q=32>=s?new A(r.a>>>s,r.b>>>s|r.a<<32-s&4294967295):new A(0,r.a>>>s-32)}function h(r,s,q){return r&s^~r&q}function g(r,s,q){return new A(r.a&s.a^~r.a&q.a,r.b&s.b^~r.b&q.b)}function f(r,s,q){return r&s^r&q^s&q}function N(r,s,q){return new A(r.a&s.a^r.a&q.a^s.a&q.a,r.b&s.b^r.b&q.b^s.b&q.b)}function l(q){return p(q,2)^p(q,13)^p(q,22)}function H(r){var s=k(r,28),q=k(r,34);r=k(r,39);return new A(s.a^q.a^r.a,s.b^q.b^r.b)}function O(q){return p(q,6)^p(q,11)^p(q,25)}function m(r){var s=k(r,14),q=k(r,18);r=k(r,41);return new A(s.a^q.a^r.a,s.b^q.b^r.b)}function J(q){return p(q,7)^p(q,18)^q>>>3}function P(r){var s=k(r,1),q=k(r,8);r=j(r,7);return new A(s.a^q.a^r.a,s.b^q.b^r.b)}function n(q){return p(q,17)^p(q,19)^q>>>10}function L(r){var s=k(r,19),q=k(r,61);r=j(r,6);return new A(s.a^q.a^r.a,s.b^q.b^r.b)}function e(r,s){var q=(r&65535)+(s&65535);return((r>>>16)+(s>>>16)+(q>>>16)&65535)<<16|q&65535}function a(r,z,q,s){var y=(r&65535)+(z&65535)+(q&65535)+(s&65535);return((r>>>16)+(z>>>16)+(q>>>16)+(s>>>16)+(y>>>16)&65535)<<16|y&65535}function d(r,B,q,y,z){var s=(r&65535)+(B&65535)+(q&65535)+(y&65535)+(z&65535);return((r>>>16)+(B>>>16)+(q>>>16)+(y>>>16)+(z>>>16)+(s>>>16)&65535)<<16|s&65535}function o(r,z){var q,s,y;q=(r.b&65535)+(z.b&65535);s=(r.b>>>16)+(z.b>>>16)+(q>>>16);y=(s&65535)<<16|q&65535;q=(r.a&65535)+(z.a&65535)+(s>>>16);s=(r.a>>>16)+(z.a>>>16)+(q>>>16);return new A((s&65535)<<16|q&65535,y)}function M(r,E,q,z){var B,y,s;B=(r.b&65535)+(E.b&65535)+(q.b&65535)+(z.b&65535);y=(r.b>>>16)+(E.b>>>16)+(q.b>>>16)+(z.b>>>16)+(B>>>16);s=(y&65535)<<16|B&65535;B=(r.a&65535)+(E.a&65535)+(q.a&65535)+(z.a&65535)+(y>>>16);y=(r.a>>>16)+(E.a>>>16)+(q.a>>>16)+(z.a>>>16)+(B>>>16);return new A((y&65535)<<16|B&65535,s)}function b(s,F,q,B,E){var z,y,r;z=(s.b&65535)+(F.b&65535)+(q.b&65535)+(B.b&65535)+(E.b&65535);y=(s.b>>>16)+(F.b>>>16)+(q.b>>>16)+(B.b>>>16)+(E.b>>>16)+(z>>>16);r=(y&65535)<<16|z&65535;z=(s.a&65535)+(F.a&65535)+(q.a&65535)+(B.a&65535)+(E.a&65535)+(y>>>16);y=(s.a>>>16)+(F.a>>>16)+(q.a>>>16)+(B.a>>>16)+(E.a>>>16)+(z>>>16);return new A((y&65535)<<16|z&65535,r)}function c(T,R){var S=[],I,K,F,E,z,s,q,B,y,Q=[1732584193,4023233417,2562383102,271733878,3285377520],r=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];T[R>>>5]|=128<<24-R%32;T[(R+65>>>9<<4)+15]=R;y=T.length;for(q=0;q<y;q+=16){I=Q[0];K=Q[1];F=Q[2];E=Q[3];z=Q[4];for(B=0;80>B;B+=1){S[B]=16>B?T[B+q]:(S[B-3]^S[B-8]^S[B-14]^S[B-16])<<1|(S[B-3]^S[B-8]^S[B-14]^S[B-16])>>>31,s=20>B?d(I<<5|I>>>27,K&F^~K&E,z,r[B],S[B]):40>B?d(I<<5|I>>>27,K^F^E,z,r[B],S[B]):60>B?d(I<<5|I>>>27,f(K,F,E),z,r[B],S[B]):d(I<<5|I>>>27,K^F^E,z,r[B],S[B]),z=E,E=F,F=K<<30|K>>>2,K=I,I=s}Q[0]=e(I,Q[0]);Q[1]=e(K,Q[1]);Q[2]=e(F,Q[2]);Q[3]=e(E,Q[3]);Q[4]=e(z,Q[4])}return Q}function i(an,al,am){var ah,ai,ag,af,ad,ab,aa,ae,ac,aj,Z,T,V,E,R,U,B,z,I,X,W,S,y,s,ak,r,K=[],q,F;"SHA-224"===am||"SHA-256"===am?(Z=64,ah=(al+65>>>9<<4)+15,E=16,R=1,ak=Number,U=e,B=a,z=d,I=J,X=n,W=l,S=O,s=f,y=h,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aj="SHA-224"===am?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]):"SHA-384"===am||"SHA-512"===am?(Z=80,ah=(al+128>>>10<<5)+31,E=32,R=2,ak=A,U=o,B=M,z=b,I=P,X=L,W=H,S=m,s=N,y=g,r=[new ak(1116352408,3609767458),new ak(1899447441,602891725),new ak(3049323471,3964484399),new ak(3921009573,2173295548),new ak(961987163,4081628472),new ak(1508970993,3053834265),new ak(2453635748,2937671579),new ak(2870763221,3664609560),new ak(3624381080,2734883394),new ak(310598401,1164996542),new ak(607225278,1323610764),new ak(1426881987,3590304994),new ak(1925078388,4068182383),new ak(2162078206,991336113),new ak(2614888103,633803317),new ak(3248222580,3479774868),new ak(3835390401,2666613458),new ak(4022224774,944711139),new ak(264347078,2341262773),new ak(604807628,2007800933),new ak(770255983,1495990901),new ak(1249150122,1856431235),new ak(1555081692,3175218132),new ak(1996064986,2198950837),new ak(2554220882,3999719339),new ak(2821834349,766784016),new ak(2952996808,2566594879),new ak(3210313671,3203337956),new ak(3336571891,1034457026),new ak(3584528711,2466948901),new ak(113926993,3758326383),new ak(338241895,168717936),new ak(666307205,1188179964),new ak(773529912,1546045734),new ak(1294757372,1522805485),new ak(1396182291,2643833823),new ak(1695183700,2343527390),new ak(1986661051,1014477480),new ak(2177026350,1206759142),new ak(2456956037,344077627),new ak(2730485921,1290863460),new ak(2820302411,3158454273),new ak(3259730800,3505952657),new ak(3345764771,106217008),new ak(3516065817,3606008344),new ak(3600352804,1432725776),new ak(4094571909,1467031594),new ak(275423344,851169720),new ak(430227734,3100823752),new ak(506948616,1363258195),new ak(659060556,3750685593),new ak(883997877,3785050280),new ak(958139571,3318307427),new ak(1322822218,3812723403),new ak(1537002063,2003034995),new ak(1747873779,3602036899),new ak(1955562222,1575990012),new ak(2024104815,1125592928),new ak(2227730452,2716904306),new ak(2361852424,442776044),new ak(2428436474,593698344),new ak(2756734187,3733110249),new ak(3204031479,2999351573),new ak(3329325298,3815920427),new ak(3391569614,3928383900),new ak(3515267271,566280711),new ak(3940187606,3454069534),new ak(4118630271,4000239992),new ak(116418474,1914138554),new ak(174292421,2731055270),new ak(289380356,3203993006),new ak(460393269,320620315),new ak(685471733,587496836),new ak(852142971,1086792851),new ak(1017036298,365543100),new ak(1126000580,2618297676),new ak(1288033470,3409855158),new ak(1501505948,4234509866),new ak(1607167915,987167468),new ak(1816402316,1246189591)],aj="SHA-384"===am?[new ak(3418070365,3238371032),new ak(1654270250,914150663),new ak(2438529370,812702999),new ak(355462360,4144912697),new ak(1731405415,4290775857),new ak(41048885895,1750603025),new ak(3675008525,1694076839),new ak(1203062813,3204075428)]:[new ak(1779033703,4089235720),new ak(3144134277,2227873595),new ak(1013904242,4271175723),new ak(2773480762,1595750129),new ak(1359893119,2917565137),new ak(2600822924,725511199),new ak(528734635,4215389547),new ak(1541459225,327033209)]):G("Unexpected error in SHA-2 implementation");an[al>>>5]|=128<<24-al%32;an[ah]=al;q=an.length;for(T=0;T<q;T+=E){al=aj[0];ah=aj[1];ai=aj[2];ag=aj[3];af=aj[4];ad=aj[5];ab=aj[6];aa=aj[7];for(V=0;V<Z;V+=1){K[V]=16>V?new ak(an[V*R+T],an[V*R+T+1]):B(X(K[V-2]),K[V-7],I(K[V-15]),K[V-16]),ae=z(aa,S(af),y(af,ad,ab),r[V],K[V]),ac=U(W(al),s(al,ah,ai)),aa=ab,ab=ad,ad=af,af=U(ag,ae),ag=ai,ai=ah,ah=al,al=U(ae,ac)}aj[0]=U(al,aj[0]);aj[1]=U(ah,aj[1]);aj[2]=U(ai,aj[2]);aj[3]=U(ag,aj[3]);aj[4]=U(af,aj[4]);aj[5]=U(ad,aj[5]);aj[6]=U(ab,aj[6]);aj[7]=U(aa,aj[7])}"SHA-224"===am?F=[aj[0],aj[1],aj[2],aj[3],aj[4],aj[5],aj[6]]:"SHA-256"===am?F=aj:"SHA-384"===am?F=[aj[0].a,aj[0].b,aj[1].a,aj[1].b,aj[2].a,aj[2].b,aj[3].a,aj[3].b,aj[4].a,aj[4].b,aj[5].a,aj[5].b]:"SHA-512"===am?F=[aj[0].a,aj[0].b,aj[1].a,aj[1].b,aj[2].a,aj[2].b,aj[3].a,aj[3].b,aj[4].a,aj[4].b,aj[5].a,aj[5].b,aj[6].a,aj[6].b,aj[7].a,aj[7].b]:G("Unexpected error in SHA-2 implementation");return F}window.jsSHA=function(R,K,Q){var F=C,I=C,E=C,B=C,y=C,r=0,q=[0],z=0,s=C,z="undefined"!==typeof Q?Q:8;8===z||16===z||G("charSize must be 8 or 16");"HEX"===K?(0!==R.length%2&&G("srcString of HEX type must be in byte increments"),s=t(R),r=s.binLen,q=s.value):"ASCII"===K||"TEXT"===K?(s=u(R,z),r=s.binLen,q=s.value):"B64"===K?(s=D(R),r=s.binLen,q=s.value):G("inputFormat must be HEX, TEXT, ASCII, or B64");this.getHash=function(V,X,T){var W=C,S=q.slice(),U="";switch(X){case"HEX":W=x;break;case"B64":W=w;break;default:G("format must be HEX or B64")}"SHA-1"===V?(C===F&&(F=c(S,r)),U=W(F,v(T))):"SHA-224"===V?(C===I&&(I=i(S,r,V)),U=W(I,v(T))):"SHA-256"===V?(C===E&&(E=i(S,r,V)),U=W(E,v(T))):"SHA-384"===V?(C===B&&(B=i(S,r,V)),U=W(B,v(T))):"SHA-512"===V?(C===y&&(y=i(S,r,V)),U=W(y,v(T))):G("Chosen SHA variant is not supported");return U};this.getHMAC=function(ad,ab,aa,Z,Y){var X,W,V,U,ac,T=[],S=[],ae=C;switch(Z){case"HEX":X=x;break;case"B64":X=w;break;default:G("outputFormat must be HEX or B64")}"SHA-1"===aa?(V=64,ac=160):"SHA-224"===aa?(V=64,ac=224):"SHA-256"===aa?(V=64,ac=256):"SHA-384"===aa?(V=128,ac=384):"SHA-512"===aa?(V=128,ac=512):G("Chosen SHA variant is not supported");"HEX"===ab?(ae=t(ad),U=ae.binLen,W=ae.value):"ASCII"===ab||"TEXT"===ab?(ae=u(ad,z),U=ae.binLen,W=ae.value):"B64"===ab?(ae=D(ad),U=ae.binLen,W=ae.value):G("inputFormat must be HEX, TEXT, ASCII, or B64");ad=8*V;ab=V/4-1;V<U/8?(W="SHA-1"===aa?c(W,U):i(W,U,aa),W[ab]&=4294967040):V>U/8&&(W[ab]&=4294967040);for(V=0;V<=ab;V+=1){T[V]=W[V]^909522486,S[V]=W[V]^1549556828}aa="SHA-1"===aa?c(S.concat(c(T.concat(q),ad+r)),ad+ac):i(S.concat(i(T.concat(q),ad+r,aa)),ad+ac,aa);return X(aa,v(Y))}}})();