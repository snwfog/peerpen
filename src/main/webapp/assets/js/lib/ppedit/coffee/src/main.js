// Generated by CoffeeScript 1.7.1

/*
FooBar jQuery Plugin v1.0 - It makes Foo as easy as coding Bar (?).
Release: 19/04/2013
Author: Joe Average <joe@average.me>

http://github.com/joeaverage/foobar

Licensed under the WTFPL license: http://www.wtfpl.net/txt/copying/
 */
(function($, window, document) {
  var $this, methods, _anotherState, _editor, _flag, _internals, _settings;
  $this = void 0;
  _settings = {
    "default": 'cool!'
  };
  _flag = false;
  _anotherState = null;
  _editor = null;
  methods = {
    init: function(options) {
      $this = $(this);
      $.extend(_settings, options || {});
      _editor = new PPEditor($this);
      _editor.buildElement();
      $this.append(_editor.element);
      _editor.bindEvents();
      return $this;
    },
    doSomething: function(what) {
      return $this;
    },
    destroy: function() {
      return $this;
    },
    save: function() {
      return _editor.commandManager.getUndoJSON();
    },
    allHunks: function() {
      return _editor.area.boxesContainer.getAllHunks();
    },
    clearHistory: function() {
      _editor.commandManager.clearHistory();
      return $this;
    },
    load: function(options) {
      _editor.load(options.hunks);
      return $this;
    }
  };
  _internals = {
    toggleFlag: function() {
      return _flag = !_flag;
    }
  };
  return $.fn.ppedit = function(method) {
    if (methods[method]) {
      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
    } else if (typeof method === "object" || !method) {
      return methods.init.apply(this, arguments);
    } else {
      return $.error("Method " + method + " does not exist on jquery.ppedit");
    }
  };
})(jQuery, window, document);
